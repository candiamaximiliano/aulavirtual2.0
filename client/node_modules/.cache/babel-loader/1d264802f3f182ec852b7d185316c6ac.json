{"ast":null,"code":"import getTokenData from \"../services/getTokenData\";\nimport { REGISTER_SUCCESS, REGISTER_FAIL, LOGIN_SUCCESS, LOGIN_FAIL, LOGOUT, REFRESH_TOKEN } from \"./actions\";\nconst clientSessionStorage = JSON.parse(sessionStorage.getItem(\"user\"));\nconst user = getTokenData(clientSessionStorage === null || clientSessionStorage === void 0 ? void 0 : clientSessionStorage.accessToken);\nconst initialState = user ? {\n  isLoggedIn: true,\n  user\n} : {\n  isLoggedIn: false,\n  user: null\n};\nexport default function rootReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  const {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case REGISTER_SUCCESS:\n      return { ...state,\n        isLoggedIn: false\n      };\n\n    case REGISTER_FAIL:\n      return { ...state,\n        isLoggedIn: false\n      };\n\n    case LOGIN_SUCCESS:\n      return { ...state,\n        isLoggedIn: true,\n        user: payload.user\n      };\n\n    case LOGIN_FAIL:\n      return { ...state,\n        isLoggedIn: false,\n        user: null\n      };\n\n    case LOGOUT:\n      return { ...state,\n        isLoggedIn: false,\n        user: null\n      };\n\n    case REFRESH_TOKEN:\n      return { ...state,\n        user: { ...user,\n          accessToken: payload\n        }\n      };\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["getTokenData","REGISTER_SUCCESS","REGISTER_FAIL","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT","REFRESH_TOKEN","clientSessionStorage","JSON","parse","sessionStorage","getItem","user","accessToken","initialState","isLoggedIn","rootReducer","state","action","type","payload"],"sources":["C:/Users/Maxim/Desktop/Workspace/Profesorado en Ritmos Caribe√±os/aulavirtual2.0/client/src/redux/auth.js"],"sourcesContent":["import getTokenData from \"../services/getTokenData\";\nimport {\n  REGISTER_SUCCESS,\n  REGISTER_FAIL,\n  LOGIN_SUCCESS,\n  LOGIN_FAIL,\n  LOGOUT,\n  REFRESH_TOKEN,\n} from \"./actions\";\n\nconst clientSessionStorage = JSON.parse(sessionStorage.getItem(\"user\"));\nconst user = getTokenData(clientSessionStorage?.accessToken);\n\nconst initialState = user\n  ? { isLoggedIn: true, user }\n  : { isLoggedIn: false, user: null };\n\nexport default function rootReducer(state = initialState, action) {\n  const { type, payload } = action;\n\n  switch (type) {\n    case REGISTER_SUCCESS:\n      return {\n        ...state,\n        isLoggedIn: false,\n      };\n\n    case REGISTER_FAIL:\n      return {\n        ...state,\n        isLoggedIn: false,\n      };\n\n    case LOGIN_SUCCESS:\n      return {\n        ...state,\n        isLoggedIn: true,\n        user: payload.user,\n      };\n\n    case LOGIN_FAIL:\n      return {\n        ...state,\n        isLoggedIn: false,\n        user: null,\n      };\n\n    case LOGOUT:\n      return {\n        ...state,\n        isLoggedIn: false,\n        user: null,\n      };\n\n    case REFRESH_TOKEN:\n      return {\n        ...state,\n        user: { ...user, accessToken: payload },\n      };\n\n    default:\n      return state;\n  }\n}\n"],"mappings":"AAAA,OAAOA,YAAP,MAAyB,0BAAzB;AACA,SACEC,gBADF,EAEEC,aAFF,EAGEC,aAHF,EAIEC,UAJF,EAKEC,MALF,EAMEC,aANF,QAOO,WAPP;AASA,MAAMC,oBAAoB,GAAGC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAAX,CAA7B;AACA,MAAMC,IAAI,GAAGZ,YAAY,CAACO,oBAAD,aAACA,oBAAD,uBAACA,oBAAoB,CAAEM,WAAvB,CAAzB;AAEA,MAAMC,YAAY,GAAGF,IAAI,GACrB;EAAEG,UAAU,EAAE,IAAd;EAAoBH;AAApB,CADqB,GAErB;EAAEG,UAAU,EAAE,KAAd;EAAqBH,IAAI,EAAE;AAA3B,CAFJ;AAIA,eAAe,SAASI,WAAT,GAAmD;EAAA,IAA9BC,KAA8B,uEAAtBH,YAAsB;EAAA,IAARI,MAAQ;EAChE,MAAM;IAAEC,IAAF;IAAQC;EAAR,IAAoBF,MAA1B;;EAEA,QAAQC,IAAR;IACE,KAAKlB,gBAAL;MACE,OAAO,EACL,GAAGgB,KADE;QAELF,UAAU,EAAE;MAFP,CAAP;;IAKF,KAAKb,aAAL;MACE,OAAO,EACL,GAAGe,KADE;QAELF,UAAU,EAAE;MAFP,CAAP;;IAKF,KAAKZ,aAAL;MACE,OAAO,EACL,GAAGc,KADE;QAELF,UAAU,EAAE,IAFP;QAGLH,IAAI,EAAEQ,OAAO,CAACR;MAHT,CAAP;;IAMF,KAAKR,UAAL;MACE,OAAO,EACL,GAAGa,KADE;QAELF,UAAU,EAAE,KAFP;QAGLH,IAAI,EAAE;MAHD,CAAP;;IAMF,KAAKP,MAAL;MACE,OAAO,EACL,GAAGY,KADE;QAELF,UAAU,EAAE,KAFP;QAGLH,IAAI,EAAE;MAHD,CAAP;;IAMF,KAAKN,aAAL;MACE,OAAO,EACL,GAAGW,KADE;QAELL,IAAI,EAAE,EAAE,GAAGA,IAAL;UAAWC,WAAW,EAAEO;QAAxB;MAFD,CAAP;;IAKF;MACE,OAAOH,KAAP;EAzCJ;AA2CD"},"metadata":{},"sourceType":"module"}